<div class="hero-section" *ngIf="!response">
  <div class="hero-content">
    <div class="hero-header">
      <h1 class="hero-title">🍳 Recipe & News Scraper</h1>
      <p class="hero-subtitle">Extract recipes and articles from your favorite websites instantly</p>
    </div>
    
    <div class="search-card">
      <div class="search-form">
        <div class="input-group">
          <input 
            type="url" 
            [(ngModel)]="url" 
            placeholder="Paste any recipe or news article URL here..." 
            class="url-input"
            [disabled]="isLoading"
          />
          <button (click)="fetchContent()" [disabled]="isLoading || !url" class="search-button">
            <span class="button-text">{{ isLoading ? 'Extracting...' : 'Extract Content' }}</span>
            <span class="button-icon">🔍</span>
          </button>
        </div>
      </div>
      
      <div class="example-urls">
        <p class="examples-title">Try these examples:</p>
        <div class="example-buttons">
          <button class="example-btn" (click)="setExampleUrl('https://www.theepochtimes.com/health/daily-cocoa-cuts-inflammation-by-70-percent-5920149')" [disabled]="isLoading">
            📰 News Article
          </button>
          <button class="example-btn" (click)="setExampleUrl('https://www.allrecipes.com/recipe/213742/cheesy-chicken-broccoli-casserole/')" [disabled]="isLoading">
            🍽️ Recipe
          </button>
        </div>
      </div>
    </div>
    
    <div class="supported-sites">
      <h3 class="sites-title">Supported Websites</h3>
      <div class="sites-grid">
        <div class="site-category">
          <h4 class="category-title">🍳 Recipe Sites</h4>
          <div class="site-list">
            <span class="site-tag">AllRecipes</span>
            <span class="site-tag">Bon Appétit</span>
            <span class="site-tag">Taste of Home</span>
            <span class="site-tag">Simply Recipes</span>
            <span class="site-tag">Epicurious</span>
            <span class="site-tag">Betty Crocker</span>
          </div>
        </div>
        <div class="site-category">
          <h4 class="category-title">📰 News Sites</h4>
          <div class="site-list">
            <span class="site-tag">Epoch Times</span>
            <span class="site-tag">BBC</span>
            <span class="site-tag">CNN</span>
            <span class="site-tag">Reuters</span>
            <span class="site-tag">Daily Wire</span>
            <span class="site-tag">Breitbart</span>
            <span class="site-tag">OANN</span>
            <span class="site-tag">Newsmax</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="features">
      <div class="feature">
        <div class="feature-icon">⚡</div>
        <h3>Fast Extraction</h3>
        <p>Get content in seconds</p>
      </div>
      <div class="feature">
        <div class="feature-icon">🌐</div>
        <h3>14+ Websites</h3>
        <p>Recipe & news sites supported</p>
      </div>
      <div class="feature">
        <div class="feature-icon">📱</div>
        <h3>Mobile Friendly</h3>
        <p>Works on any device</p>
      </div>
    </div>
  </div>
</div>

<div class="container" *ngIf="response">
  <div class="back-button">
    <button (click)="clear()" class="back-btn">← Back to Search</button>
  </div>

  <div *ngIf="isLoading" class="loading">
    <p>Scraping content, please wait...</p>
  </div>

  <div *ngIf="errorMessage && !isLoading" class="error">
    {{ errorMessage }}
  </div>

  <div *ngIf="response && response.type === 'recipe'" class="recipe-content">
    <h2>{{ response.data.recipeName }}</h2>
    <img *ngIf="response.data.recipeImage" [src]="response.data.recipeImage" alt="Recipe image" class="recipe-image" />
    <h3>Description</h3>
    <p>{{ response.data.description }}</p>
    <h3>Ingredients</h3>
    <ul>
      <li *ngFor="let ingredient of response.data.ingredients">{{ ingredient }}</li>
    </ul>
    <h3>Instructions</h3>
    <ol>
      <li *ngFor="let instruction of response.data.instructions">
        {{ instruction.text }}
        <img *ngIf="instruction.image" [src]="instruction.image" alt="Instruction image" class="instruction-image" />
      </li>
    </ol>
  </div>

  <div *ngIf="response && response.type === 'news'" class="news-content">
    <h2>{{ response.data.title }}</h2>
    <img *ngIf="response.data.image && response.data.image !== 'N/A'" [src]="response.data.image" alt="Article image" class="article-image" />
    <p><strong>Author:</strong> {{ response.data.author }}</p>
    <p>
      <strong>Published:</strong>
      {{ response.data.published.humanReadable !== 'N/A' ? response.data.published.humanReadable : 'Not available' }}
      (Epoch: {{ response.data.published.epoch || 'Not available' }})
    </p>
    <h3>Content</h3>
    <div *ngFor="let item of response.data.content">
      <ng-container *ngIf="item.type === 'paragraph'">
        <p>{{ item.text }}</p>
      </ng-container>
      <ng-container *ngIf="item.type === 'heading'">
        <h2>{{ item.text }}</h2>
      </ng-container>
      <ng-container *ngIf="item.type === 'div'">
        <div class="my-5">
          <ng-container *ngFor="let subItem of item.content">
            <ng-container *ngIf="subItem.type === 'text'">
              {{ subItem.value }}
            </ng-container>
            <ng-container *ngIf="subItem.type === 'link'">
              <a [href]="subItem.href" target="_blank" class="article-hover-class">{{ subItem.text }}</a>
            </ng-container>
          </ng-container>
        </div>
      </ng-container>
    </div>
  </div>
</div>
